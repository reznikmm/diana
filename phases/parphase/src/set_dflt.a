with USERPK, DIANATTR, DIANA, DIANAMAN; use USERPK, DIANATTR, DIANA, DIANAMAN;

procedure SET_DFLT(NODE: TREE) is
    -- sets default values in nodes generated during parse

begin
    case KIND(NODE) is
    when DN_VARIABLE_ID =>
	D(SM_INIT_EXP, NODE, CONST_VOID);
	DB(SM_RENAMES_OBJ, NODE, FALSE);
	D(SM_ADDRESS, NODE, CONST_VOID);
	DB(SM_IS_SHARED, NODE, FALSE);
    when DN_CONSTANT_ID =>
	D(SM_INIT_EXP, NODE, CONST_VOID);
	DB(SM_RENAMES_OBJ, NODE, FALSE);
	D(SM_ADDRESS, NODE, CONST_VOID);
	D(SM_FIRST, NODE, NODE);
    when DN_COMPONENT_ID =>
	D(SM_INIT_EXP, NODE, CONST_VOID);
	D(SM_COMP_REP, NODE, CONST_VOID);
    when DN_DISCRIMINANT_ID =>
	D(SM_INIT_EXP, NODE, CONST_VOID);
	D(SM_COMP_REP, NODE, CONST_VOID);
	D(SM_FIRST, NODE, NODE);
    when CLASS_PARAM_NAME =>
	D(SM_INIT_EXP, NODE, CONST_VOID);
	D(SM_FIRST, NODE, NODE);
    when DN_TYPE_ID =>
	D(SM_FIRST, NODE, NODE);
    when DN_PROCEDURE_ID | DN_FUNCTION_ID =>
	D(SM_FIRST, NODE, NODE);
	D(SM_ADDRESS, NODE, CONST_VOID);
	D(XD_STUB, NODE, CONST_VOID);
	D(XD_BODY, NODE, CONST_VOID);
	DB(SM_IS_INLINE, NODE, FALSE);
	D(SM_INTERFACE, NODE, CONST_VOID);
    when DN_OPERATOR_ID =>
	D(SM_FIRST, NODE, NODE);
	D(SM_ADDRESS, NODE, CONST_VOID);
	D(XD_STUB, NODE, CONST_VOID);
	D(XD_BODY, NODE, CONST_VOID);
	DB(SM_IS_INLINE, NODE, FALSE);
	D(SM_INTERFACE, NODE, CONST_VOID);
	D(XD_NOT_EQUAL, NODE, CONST_VOID);
    when DN_PACKAGE_ID =>
	D(SM_FIRST, NODE, NODE);
	D(SM_ADDRESS, NODE, CONST_VOID);
	D(XD_STUB, NODE, CONST_VOID);
	D(XD_BODY, NODE, CONST_VOID);
    when DN_GENERIC_ID =>
	D(SM_FIRST, NODE, NODE);
	D(XD_STUB, NODE, CONST_VOID);
	D(XD_BODY, NODE, CONST_VOID);
	D(SM_BODY, NODE, CONST_VOID);
	DB(SM_IS_INLINE, NODE, FALSE);
    when DN_ENTRY_ID =>
	D(SM_ADDRESS, NODE, CONST_VOID);
    when DN_EXCEPTION_ID =>
	D(SM_RENAMES_EXC, NODE, CONST_VOID);
    -- when DN_PACKAGE_DECL =>
    --	   DI(XD_BODY_IS_REQUIRED, NODE, FALSE);
    when DN_DERIVED_DEF =>
	LIST(NODE, MAKE);
    when DN_EXIT =>
	D(SM_STM, NODE, CONST_VOID);
    when CLASS_USED_OBJECT =>
	D(SM_VALUE, NODE, CONST_VOID);
    when DN_ATTRIBUTE | DN_SELECTED =>
	D(SM_VALUE, NODE, CONST_VOID);
    when DN_FUNCTION_CALL =>
	D(SM_VALUE, NODE, CONST_VOID);
	DB(LX_PREFIX, NODE, TRUE);
    when CLASS_EXP_VAL =>
	D(SM_VALUE, NODE, CONST_VOID);
    when DN_COMPILATION_UNIT =>
	D(XD_PARENT, NODE, CONST_VOID);
    when others =>
	null;
    end case;
end SET_DFLT;
